--- =========================
-- 1 SLAY = 1 PREMIUM CRATE
-- =========================

local player = game.Players.LocalPlayer

local CRATE_NAME = "Premium"

-- Safe attribute getter
local function getAttr(name)
	return player:GetAttribute(name) or 0
end

-- Give Premium crate (client-side)
local function giveCrate()
	print("GOT PREMIUM CRATE")

	-- ðŸ”§ Hook your real crate logic here
	-- Example:
	-- game.ReplicatedStorage.Remotes.GiveCrate:FireServer(CRATE_NAME)
end

-- Track slays
local lastSlays = getAttr("Slays")

local function onSlaysChanged()
	local currentSlays = getAttr("Slays")
	local gained = currentSlays - lastSlays

	if gained > 0 then
		for _ = 1, gained do
			giveCrate()
			player:SetAttribute(
				"CratesClaimed",
				getAttr("CratesClaimed") + 1
			)
		end
	end

	lastSlays = currentSlays
end

-- Listen for changes
player:GetAttributeChangedSignal("Slays"):Connect(onSlaysChanged)

-- Initial check
onSlaysChanged()
